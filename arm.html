<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta name="referrer" content="no-referrer">
    <title>Odin for Azure Local — ARM Parameters</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Segoe+UI:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Mobile responsive styles for ARM page */
        @media (max-width: 768px) {
            .container {
                padding: 1rem !important;
                padding-bottom: 80px !important;
            }

            header h1 {
                font-size: 1.3rem !important;
            }

            header p {
                font-size: 0.9rem !important;
            }

            /* ARM placeholder inputs */
            #arm-placeholder-inputs > div {
                padding: 0.75rem !important;
            }

            #arm-placeholder-inputs input {
                font-size: 0.85rem !important;
                padding: 0.6rem !important;
            }

            #arm-placeholder-inputs label {
                font-size: 0.9rem !important;
            }

            /* ARM template links */
            #arm-template-links a {
                flex-direction: column !important;
                align-items: flex-start !important;
                gap: 0.3rem !important;
                padding: 0.75rem !important;
            }

            #arm-template-links a svg {
                display: none !important;
            }

            /* Button groups */
            #gen-powershell-btn,
            #gen-azcli-btn,
            #show-alternatives-btn,
            #export-devops-btn,
            #export-github-btn,
            #export-api-btn {
                font-size: 0.85rem !important;
                padding: 0.7rem 0.75rem !important;
            }

            #gen-powershell-btn svg,
            #gen-azcli-btn svg,
            #show-alternatives-btn svg,
            #export-devops-btn svg,
            #export-github-btn svg,
            #export-api-btn svg {
                width: 16px !important;
                height: 16px !important;
            }

            /* Copy button */
            #arm-copy-btn {
                width: 100% !important;
                margin-bottom: 0.5rem !important;
            }

            /* JSON viewer */
            #arm-json {
                font-size: 0.75rem !important;
                max-height: 50vh !important;
                overflow-y: auto !important;
            }

            /* Close button at bottom */
            .reset-button {
                margin-bottom: 70px !important;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0.75rem !important;
            }

            header h1 {
                font-size: 1.1rem !important;
            }

            .step-header h2 {
                font-size: 1rem !important;
            }

            #arm-json {
                font-size: 0.7rem !important;
            }
        }
    </style>
</head>

<body>
    <div class="background-globes"></div>

    <main class="container">
        <header>
            <h1>Odin for Azure Local — ARM Parameters JSON</h1>
            <p>View and copy the generated Azure Quickstart-style ARM parameters file.</p>
        </header>

        <section class="step" style="margin-bottom:1.5rem;">
            <div class="step-header">
                <span class="step-number">A1</span>
                <h2>Metadata</h2>
            </div>
            <div id="arm-meta" class="info-box visible"></div>
        </section>

        <section class="step" style="margin-bottom:1.5rem;">
            <div class="step-header">
                <span class="step-number">A2</span>
                <h2>Placeholders</h2>
            </div>
            <div id="arm-placeholders"></div>
            <div id="arm-placeholder-inputs" style="margin-top: 1rem; display: none;">
                <div style="display: flex; flex-direction: column; gap: 1rem; padding: 1rem; background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 8px;">
                    
                    <!-- Azure Context Section -->
                    <div style="border-bottom: 1px solid var(--glass-border); padding-bottom: 1rem; margin-bottom: 0.5rem;">
                        <h4 style="margin: 0 0 1rem 0; color: var(--accent-blue); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Azure Context</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Tenant ID <span style="font-weight: normal; color: var(--text-secondary);">(Optional)</span></label>
                                <input type="text" id="input-tenant-id" placeholder="00000000-0000-0000-0000-000000000000" 
                                       pattern="^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$"
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px; font-family: monospace;"
                                       oninput="validateTenantId(this); updateParameters()">
                                <p id="tenant-id-error" style="font-size: 0.8rem; color: #ef4444; margin-top: 0.25rem; display: none;">Invalid GUID format</p>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Subscription ID</label>
                                <input type="text" id="input-subscription-id" placeholder="00000000-0000-0000-0000-000000000000" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px; font-family: monospace;"
                                       oninput="updateParameters()">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Resource Group Name</label>
                                <input type="text" id="input-resource-group" placeholder="rg-azurelocal-prod" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Deployment Name</label>
                                <input type="text" id="input-deployment-name" placeholder="azurelocal-deployment" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                            </div>
                        </div>
                    </div>

                    <!-- Cluster Configuration Section -->
                    <div style="border-bottom: 1px solid var(--glass-border); padding-bottom: 1rem; margin-bottom: 0.5rem;">
                        <h4 style="margin: 0 0 1rem 0; color: var(--accent-purple); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Cluster Configuration</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Cluster Name</label>
                                <input type="text" id="input-cluster-name" placeholder="azurelocal-cluster" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                                <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.25rem;">Max 15 characters, letters/numbers/hyphens</p>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Custom Location Name <span style="font-weight: normal; color: var(--text-secondary);">(Optional)</span></label>
                                <input type="text" id="input-custom-location" placeholder="azurelocal-customlocation" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                            </div>
                            <div id="witness-storage-container" style="display: none;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Cloud Witness Storage Account</label>
                                <input type="text" id="input-witness-storage" placeholder="azurelocalwitness" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                                <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.25rem;">Required for 2-node clusters using Cloud witness</p>
                            </div>
                            <div id="ou-path-container">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">OU Path <span style="font-weight: normal; color: var(--text-secondary);">(Optional)</span></label>
                                <input type="text" id="input-ou-path" placeholder="OU=AzureLocal,DC=contoso,DC=com" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                            </div>
                        </div>
                    </div>

                    <!-- Azure Resources Section -->
                    <div style="border-bottom: 1px solid var(--glass-border); padding-bottom: 1rem; margin-bottom: 0.5rem;">
                        <h4 style="margin: 0 0 1rem 0; color: var(--accent-green); font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Azure Resources</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Key Vault Name</label>
                                <input type="text" id="input-keyvault-name" placeholder="kv-azurelocal-prod" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                                <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.25rem;">3-24 chars, globally unique</p>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">Diagnostic Storage Account</label>
                                <input type="text" id="input-diagnostic-storage" placeholder="stazurelocaldiag" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px;"
                                       oninput="updateParameters()">
                                <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.25rem;">3-24 chars, lowercase letters/numbers only</p>
                            </div>
                            <div style="grid-column: span 2;">
                                <label style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary);">HCI Resource Provider Object ID</label>
                                <input type="text" id="input-hci-rp-object-id" placeholder="00000000-0000-0000-0000-000000000000" 
                                       style="width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); color: var(--text-primary); border-radius: 4px; font-family: monospace;"
                                       oninput="updateParameters()">
                                <p style="font-size: 0.75rem; color: var(--text-secondary); margin-top: 0.25rem;">Find via: Get-AzADServicePrincipal -DisplayName "Microsoft.AzureStackHCI Resource Provider"</p>
                            </div>
                        </div>
                    </div>

                    <!-- Update Button -->
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--glass-border);">
                        <button id="update-params-btn" type="button" onclick="updateParameters()" 
                                style="width: 100%; padding: 0.75rem 1.5rem; background: linear-gradient(135deg, var(--accent-purple) 0%, var(--accent-blue) 100%); border: none; color: white; border-radius: 6px; cursor: pointer; font-size: 0.95rem; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 0.5rem;">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="17 8 12 3 7 8"/>
                                <line x1="12" y1="3" x2="12" y2="15"/>
                            </svg>
                            Update Parameters JSON
                        </button>
                        <p id="update-params-status" style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 0.5rem; text-align: center;"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ARM Template Links Section -->
        <section class="step" style="margin-bottom:2rem;">
            <div class="step-header">
                <span class="step-number">A3</span>
                <h2>Deploy to Azure</h2>
            </div>
            
            <div id="deploy-to-azure-section" style="margin-bottom: 1.5rem;">
                <p style="color: var(--text-secondary); margin-bottom: 1rem;">Deploy your cluster configuration directly to Azure using the appropriate ARM template:</p>
                
                <button id="deploy-to-azure-btn" type="button" class="report-button" onclick="deployToAzure()" style="width:100%; padding:1rem 1.5rem; display:flex; align-items:center; justify-content:center; gap:0.75rem; background: linear-gradient(135deg, #0078d4 0%, #106ebe 100%); border: none; font-size: 1rem; font-weight: 600;">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M13.05 4.24L6.56 18.05L2 18l5.45-8.27L13.05 4.24zM14.4 4.58l-2.93 6.87l3.49 5.29 6.94-1.42L14.4 4.58zM12.73 12.63l-3.46 5.22 6.73 1.18-3.27-6.4z"/>
                    </svg>
                    <span id="deploy-btn-text">Deploy to Azure</span>
                </button>
                
                <div id="deploy-template-info" style="margin-top: 0.75rem; padding: 0.75rem; background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 8px;">
                    <div style="font-size: 0.85rem; color: var(--text-secondary);">
                        <strong style="color: var(--text-primary);">Template:</strong> <span id="deploy-template-name">-</span>
                    </div>
                </div>
                
                <!-- Step-by-step instructions for copying parameters -->
                <div style="margin-top: 1rem; padding: 1.25rem; background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 12px;">
                    <h4 style="margin: 0 0 1rem 0; color: var(--accent-blue); font-size: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 16v-4"/>
                            <path d="M12 8h.01"/>
                        </svg>
                        How to Use Your Parameters in Azure Portal
                    </h4>
                    <ol style="margin: 0; padding-left: 1.25rem; color: var(--text-secondary); line-height: 1.8;">
                        <li><strong style="color: var(--text-primary);">Click "Deploy to Azure"</strong> above to open the Azure Portal with the ARM template loaded</li>
                        <li><strong style="color: var(--text-primary);">Scroll down</strong> to the Parameters File JSON section (Step A5) on this page</li>
                        <li><strong style="color: var(--text-primary);">Click "Copy JSON"</strong> to copy all your configuration parameters</li>
                        <li><strong style="color: var(--text-primary);">In Azure Portal</strong>, click <em>"Edit parameters"</em> at the top of the deployment form</li>
                        <li><strong style="color: var(--text-primary);">Select all</strong> the existing JSON and <strong style="color: var(--text-primary);">paste</strong> your copied parameters</li>
                        <li><strong style="color: var(--text-primary);">Click "Save"</strong> to apply the parameters, then review and deploy</li>
                    </ol>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid rgba(59, 130, 246, 0.2);">
                        <button type="button" class="report-button" onclick="scrollToAndCopyJson()" style="width:100%; padding:0.75rem 1rem; display:flex; align-items:center; justify-content:center; gap:0.5rem; background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.4);">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"/>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/>
                            </svg>
                            Copy Parameters & Scroll to JSON
                        </button>
                    </div>
                </div>
                
                <div class="switchless-diagram__note" style="margin-top: 0.75rem;">
                    <strong>Note:</strong> The Azure Portal doesn't support pre-filling parameters via URL. You'll need to copy and paste parameters manually using the steps above.
                </div>
            </div>
            
            <!-- Disconnected Operations Section (shown instead of Deploy to Azure for disconnected scenarios) -->
            <div id="disconnected-operations-section" style="margin-bottom: 1.5rem; display: none;">
                <div style="padding: 1.5rem; background: linear-gradient(135deg, rgba(234, 88, 12, 0.1) 0%, rgba(220, 38, 38, 0.05) 100%); border: 1px solid rgba(234, 88, 12, 0.3); border-radius: 12px;">
                    <div style="display: flex; align-items: flex-start; gap: 1rem;">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ea580c" stroke-width="2" style="flex-shrink: 0; margin-top: 2px;">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                        <div>
                            <h3 style="margin: 0 0 0.75rem 0; color: #ea580c; font-size: 1.1rem;">Disconnected Operations Deployment</h3>
                            <p style="margin: 0 0 1rem 0; color: var(--text-secondary); line-height: 1.6;">Azure Local Disconnected Operations deployments do <strong style="color: var(--text-primary);">not</strong> use Azure to deploy the cluster. The "Deploy to Azure" functionality is not available for air-gapped environments.</p>
                            <p style="margin: 0 0 1.25rem 0; color: var(--text-secondary); line-height: 1.6;">Please refer to the official Microsoft documentation for instructions on deploying Azure Local in disconnected mode:</p>
                            <a href="https://learn.microsoft.com/en-us/azure/azure-local/manage/disconnected-operations-deploy" target="_blank" rel="noopener noreferrer" style="display: inline-flex; align-items: center; gap: 0.75rem; padding: 0.875rem 1.5rem; background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%); color: white; text-decoration: none; border-radius: 8px; font-weight: 600; transition: all 0.2s;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                                    <polyline points="15 3 21 3 21 9"/>
                                    <line x1="10" y1="14" x2="21" y2="3"/>
                                </svg>
                                Disconnected Operations Deployment Guide
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--accent-blue); font-weight: 500; padding: 0.5rem 0;">View all available ARM templates</summary>
                <div id="arm-template-links" style="display: flex; flex-direction: column; gap: 0.75rem; margin-top: 1rem;">
                <p style="color: var(--text-secondary); margin-bottom: 0.5rem;">Use the generated parameters file with one of these Azure Quickstart ARM templates:</p>
                <a href="https://github.com/Azure/azure-quickstart-templates/blob/master/quickstarts/microsoft.azurestackhci/create-cluster/azuredeploy.json" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 8px; color: var(--accent-blue); text-decoration: none; transition: all 0.2s;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                    <span><strong>Multi-Node Storage Switched Cluster</strong> - Standard cluster deployment</span>
                </a>
                <a href="https://github.com/Azure/azure-quickstart-templates/blob/master/quickstarts/microsoft.azurestackhci/create-cluster-rac-enabled/azuredeploy.json" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 8px; color: var(--accent-blue); text-decoration: none; transition: all 0.2s;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                    <span><strong>Rack Aware Cluster</strong> - For rack-aware deployments</span>
                </a>
                <a href="https://github.com/Azure/azure-quickstart-templates/blob/master/quickstarts/microsoft.azurestackhci/create-cluster-3Nodes-Switchless-DualLink/azuredeploy.json" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 8px; color: var(--accent-blue); text-decoration: none; transition: all 0.2s;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                    <span><strong>3-Node Switchless Dual Link</strong> - Storage switchless with dual links</span>
                </a>
                <a href="https://github.com/Azure/azure-quickstart-templates/blob/master/quickstarts/microsoft.azurestackhci/create-adless-cluster-external-dns-public-preview/azuredeploy.json" target="_blank" rel="noopener noreferrer" style="display: flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1rem; background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 8px; color: var(--accent-blue); text-decoration: none; transition: all 0.2s;">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                    <span><strong>AD-Less Cluster (KeyVault Identity)</strong> - For Azure KeyVault identity deployments</span>
                </a>
                </div>
            </details>
        </section>

        <section class="step" style="margin-bottom:2rem;">
            <div class="step-header">
                <span class="step-number">A4</span>
                <h2>Deployment Script Generation</h2>
            </div>

            <div style="display:flex; flex-direction:column; gap:1rem; margin-bottom: 1rem;">
                <button id="gen-powershell-btn" type="button" class="report-button" onclick="generatePowerShellScript()" style="width:100%; padding:0.8rem 1rem; display:flex; align-items:center; gap:0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="4 17 10 11 4 5"/>
                        <line x1="12" y1="19" x2="20" y2="19"/>
                    </svg>
                    Generate PowerShell Deployment Script
                </button>

                <button id="gen-azcli-btn" type="button" class="report-button" onclick="generateAzCLIScript()" style="width:100%; padding:0.8rem 1rem; display:flex; align-items:center; gap:0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <line x1="9" y1="9" x2="15" y2="15"/>
                        <line x1="15" y1="9" x2="9" y2="15"/>
                    </svg>
                    Generate Azure CLI Command Preview
                </button>

                <button id="show-alternatives-btn" type="button" class="report-button" onclick="showBicepTerraformAlternatives()" style="width:100%; padding:0.8rem 1rem; display:flex; align-items:center; gap:0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                        <polyline points="14 2 14 8 20 8"/>
                        <line x1="12" y1="18" x2="12" y2="12"/>
                        <line x1="9" y1="15" x2="15" y2="15"/>
                    </svg>
                    View Bicep/Terraform Alternatives
                </button>
            </div>

            <div class="switchless-diagram__note">
                <strong>Deployment Options:</strong> Generate deployment scripts for PowerShell or Azure CLI, or explore alternative IaC formats.
            </div>
        </section>

        <section class="step" style="margin-bottom:2rem;">
            <div class="step-header">
                <span class="step-number">A5</span>
                <h2>Parameters File JSON</h2>
            </div>

            <div style="display:flex; gap:0.75rem; margin-bottom:0.75rem; flex-wrap:wrap;">
                <button id="arm-copy-btn" type="button" class="report-button" style="width:auto; padding:0.6rem 1rem;">Copy JSON</button>
                <div id="arm-copy-status" style="color:var(--text-secondary); align-self:center;"></div>
            </div>

            <pre id="arm-json" class="json-viewer" aria-label="ARM parameters JSON"><code id="arm-json-code" class="json-viewer__code"></code></pre>

            <div class="switchless-diagram__note" style="margin-top:0.75rem;">
                Tip: Search for <strong style="color:var(--text-primary);">REPLACE_WITH_</strong> to find values the wizard doesn’t collect.
            </div>
        </section>
        <section class="step" style="margin-bottom:2rem;">
            <div class="step-header">
                <span class="step-number">A6</span>
                <h2>Integration Features</h2>
            </div>

            <div style="display:flex; flex-direction:column; gap:1rem;">
                <button id="export-devops-btn" type="button" class="report-button" onclick="generateDevOpsPipeline()" style="width:100%; padding:0.8rem 1rem; display:flex; align-items:center; gap:0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"/>
                        <path d="M12 6v6l4 2"/>
                    </svg>
                    Generate Azure DevOps Pipeline Template
                </button>

                <button id="export-github-btn" type="button" class="report-button" onclick="generateGitHubWorkflow()" style="width:100%; padding:0.8rem 1rem; display:flex; align-items:center; gap:0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.604-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z"/>
                    </svg>
                    Export GitHub Actions Workflow
                </button>

                <button id="export-api-btn" type="button" class="report-button" onclick="showRestApiInfo()" style="width:100%; padding:0.8rem 1rem; display:flex; align-items:center; gap:0.5rem;">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="2" y="2" width="20" height="8" rx="2" ry="2"/>
                        <rect x="2" y="14" width="20" height="8" rx="2" ry="2"/>
                        <line x1="6" y1="6" x2="6.01" y2="6"/>
                        <line x1="6" y1="18" x2="6.01" y2="18"/>
                    </svg>
                    REST API for Automation
                </button>
            </div>

            <div class="switchless-diagram__note" style="margin-top:1rem;">
                <strong>Integration Options:</strong> Export your configuration for CI/CD pipelines or access via REST API for automated deployments.
            </div>
        </section>
        <button type="button" class="reset-button" onclick="window.close();">
            Close
        </button>
    </main>

    <script src="arm.js"></script>
</body>

</html>
